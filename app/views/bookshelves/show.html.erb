
<div class="container">
  <div class="row justify-content-center">
    <div class="col-12">
      <%= link_to "edit", edit_bookshelf_path(@bookshelf) %>
      <h1 class="text-center"><%= current_user.username.capitalize %>'s books on <em>'<%= @bookshelf.name %>'</em> shelf</h1>

      <p class="text-center"><%= @bookshelf.description %></p><br>
      <% @bookshelf_items.each do |item| %>
        <% mybook = Book.find(item.book_id) %>
        <ul class="container">
        <li class="list-group-item" id="shelf"><%= link_to mybook.title, book_path(mybook.id) %>
        <!-- <small>status: <%= item.status %></small> -->
        <div class="card-product">
        <div class="card-product-img" >
        <%= image_tag mybook.image %>
        </div>

        <!-- start form for status -->
        <div class="col-md-4 col-md-offset-3">
        <%= simple_form_for [item.bookshelf, item], remote: true do |f| %>
        <%= f.select :status, { collection: ['to read', 'reading', 'completed'], selected: item.status }, {class: 'form-control'}, { onchange: 'this.form.submit();'} %>
        <%#= f.select :status, collection: ['to read', 'reading', 'completed'], selected: item.status, {}, { onchange: 'this.form.submit();'}, class: 'form-control' %>
        <%#= f.input :status, collection: ['to read', 'reading', 'completed'], selected: item.status, {}, { onchange: 'this.form.submit();' } %>
        <!-- <%= f.submit %> -->
        <%#= f.button :submit %>
        </div>
          <!-- end form-->
        <% end %>

        <p class="text-right"><%= link_to 'delete', bookshelf_bookshelf_item_path(item.id), method: :delete %></p>
        </li>
        </ul>
        <% end %>
      <%= link_to 'Back', bookshelves_path %>
    </div>
  </div>
</div>


